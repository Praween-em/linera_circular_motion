<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motion Simulation: Uniform vs Non-Uniform</title>
    <script src="https://cdn.jsdelivr.net/npm/three@0.150.1/build/three.min.js"></script>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #e74c3c;
            --accent: #2ecc71;
            --dark: #2c3e50;
            --light: #ecf0f1;
            --uniform: #9b59b6;
            --non-uniform: #f39c12;
            --slow: #3498db;
            --fast: #e74c3c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2c3e50, #1a2530);
            color: var(--light);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            color: var(--accent);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.3rem;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .simulation-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
        }
        
        .visualization {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }
        
        @media (max-width: 900px) {
            .visualization {
                grid-template-columns: 1fr;
            }
        }
        
        .simulation-panel {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            flex-direction: column;
            transition: transform 0.3s ease;
        }
        
        .simulation-panel:hover {
            transform: translateY(-5px);
        }
        
        .panel-title {
            font-size: 1.6rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .uniform-title {
            color: var(--uniform);
        }
        
        .non-uniform-title {
            color: var(--non-uniform);
        }
        
        .title-icon {
            font-size: 1.8rem;
        }
        
        .canvas-container {
            width: 100%;
            height: 300px;
            background: #1a2432;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 15px;
            position: relative;
        }
        
        .motion-type {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .motion-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .motion-btn.active {
            background: var(--primary);
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.5);
        }
        
        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        label {
            font-size: 0.9rem;
            opacity: 0.9;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: rgba(255, 255, 255, 0.1);
            outline: none;
            -webkit-appearance: none;
        }
        
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            background: var(--primary);
            cursor: pointer;
        }
        
        .value-display {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }
        
        button {
            padding: 12px 15px;
            border: none;
            border-radius: 6px;
            background: var(--primary);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 5px;
        }
        
        button:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        button.start {
            background: var(--accent);
        }
        
        button.reset {
            background: #7f8c8d;
        }
        
        .metrics {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 15px;
            background: rgba(0, 0, 0, 0.2);
            padding: 15px;
            border-radius: 8px;
        }
        
        .metric {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .metric-value {
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .uniform .metric-value {
            color: var(--uniform);
        }
        
        .non-uniform .metric-value {
            color: var(--non-uniform);
        }
        
        .metric-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .explanation {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 12px;
            padding: 25px;
            margin-top: 25px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .explanation h2 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: var(--accent);
        }
        
        .concepts {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        
        @media (max-width: 768px) {
            .concepts {
                grid-template-columns: 1fr;
            }
        }
        
        .concept {
            background: rgba(0, 0, 0, 0.2);
            padding: 20px;
            border-radius: 8px;
        }
        
        .concept h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .concept.uniform h3 {
            color: var(--uniform);
        }
        
        .concept.non-uniform h3 {
            color: var(--non-uniform);
        }
        
        .concept p {
            line-height: 1.6;
            opacity: 0.9;
        }
        
        .formula {
            background: rgba(0, 0, 0, 0.3);
            padding: 12px;
            border-radius: 6px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            text-align: center;
        }
        
        .key-differences {
            margin-top: 30px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
        }
        
        .key-differences h3 {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: var(--accent);
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        th {
            background: rgba(0, 0, 0, 0.2);
            font-weight: 600;
        }
        
        .uniform-row {
            color: var(--uniform);
        }
        
        .non-uniform-row {
            color: var(--non-uniform);
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            opacity: 0.7;
            font-size: 0.9rem;
        }

        /* New styles for speed variation */
        .speed-variation {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .speed-btn {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .speed-btn.active {
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }
        
        .speed-btn.slow {
            background: var(--slow);
        }
        
        .speed-btn.fast {
            background: var(--fast);
        }
        
        .non-uniform-controls {
            display: none;
            margin-top: 10px;
        }
        
        .non-uniform-controls.active {
            display: grid;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Motion Simulation: Uniform vs Non-Uniform</h1>
            <p class="subtitle">Explore the differences between uniform and non-uniform motion in both linear and circular paths</p>
        </header>
        
        <div class="simulation-container">
            <div class="visualization">
                <div class="simulation-panel">
                    <h2 class="panel-title uniform-title">
                        <span class="title-icon">↔</span>
                        Linear Motion
                    </h2>
                    
                    <div class="motion-type">
                        <button class="motion-btn active" id="linear-uniform-btn">Uniform</button>
                        <button class="motion-btn" id="linear-non-uniform-btn">Non-Uniform</button>
                    </div>
                    
                    <div class="non-uniform-controls" id="linear-speed-controls">
                        <div class="speed-variation">
                            <button class="speed-btn slow active" id="linear-slow-btn">Slow Variation</button>
                            <button class="speed-btn fast" id="linear-fast-btn">Fast Variation</button>
                        </div>
                    </div>
                    
                    <div class="canvas-container" id="linear-canvas"></div>
                    
                    <div class="controls">
                        <div class="control-group">
                            <label for="linear-velocity">
                                <span>Velocity (m/s)</span>
                            </label>
                            <input type="range" id="linear-velocity" min="1" max="10" step="0.5" value="3">
                            <div class="value-display">
                                <span>1</span>
                                <span id="linear-velocity-value">3.0</span>
                                <span>10</span>
                            </div>
                        </div>
                        
                        <div class="control-group" id="linear-acceleration-control">
                            <label for="linear-acceleration">
                                <span>Acceleration (m/s²)</span>
                            </label>
                            <input type="range" id="linear-acceleration" min="-3" max="3" step="0.1" value="0.5">
                            <div class="value-display">
                                <span>-3</span>
                                <span id="linear-acceleration-value">0.5</span>
                                <span>3</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="buttons">
                        <button class="start" id="linear-start">
                            <span>Start</span>
                        </button>
                        <button class="reset" id="linear-reset">
                            <span>Reset</span>
                        </button>
                    </div>
                    
                    <div class="metrics uniform">
                        <div class="metric">
                            <div class="metric-value" id="linear-time">0.00</div>
                            <div class="metric-label">Time (s)</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" id="linear-position">0.00</div>
                            <div class="metric-label">Position (m)</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" id="linear-velocity-display">0.00</div>
                            <div class="metric-label">Velocity (m/s)</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" id="linear-acceleration-display">0.00</div>
                            <div class="metric-label">Acceleration (m/s²)</div>
                        </div>
                    </div>
                </div>
                
                <div class="simulation-panel">
                    <h2 class="panel-title non-uniform-title">
                        <span class="title-icon">🔄</span>
                        Circular Motion
                    </h2>
                    
                    <div class="motion-type">
                        <button class="motion-btn active" id="circular-uniform-btn">Uniform</button>
                        <button class="motion-btn" id="circular-non-uniform-btn">Non-Uniform</button>
                    </div>
                    
                    <div class="non-uniform-controls" id="circular-speed-controls">
                        <div class="speed-variation">
                            <button class="speed-btn slow active" id="circular-slow-btn">Slow Variation</button>
                            <button class="speed-btn fast" id="circular-fast-btn">Fast Variation</button>
                        </div>
                    </div>
                    
                    <div class="canvas-container" id="circular-canvas"></div>
                    
                    <div class="controls">
                        <div class="control-group">
                            <label for="circular-radius">
                                <span>Radius (m)</span>
                            </label>
                            <input type="range" id="circular-radius" min="5" max="20" step="1" value="10">
                            <div class="value-display">
                                <span>5</span>
                                <span id="circular-radius-value">10</span>
                                <span>20</span>
                            </div>
                        </div>
                        
                        <div class="control-group">
                            <label for="circular-velocity">
                                <span>Angular Velocity (rad/s)</span>
                            </label>
                            <input type="range" id="circular-velocity" min="0.5" max="5" step="0.1" value="1.5">
                            <div class="value-display">
                                <span>0.5</span>
                                <span id="circular-velocity-value">1.5</span>
                                <span>5</span>
                            </div>
                        </div>
                        
                        <div class="control-group" id="circular-acceleration-control">
                            <label for="circular-acceleration">
                                <span>Angular Acceleration (rad/s²)</span>
                            </label>
                            <input type="range" id="circular-acceleration" min="-1" max="1" step="0.1" value="0.2">
                            <div class="value-display">
                                <span>-1</span>
                                <span id="circular-acceleration-value">0.2</span>
                                <span>1</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="buttons">
                        <button class="start" id="circular-start">
                            <span>Start</span>
                        </button>
                        <button class="reset" id="circular-reset">
                            <span>Reset</span>
                        </button>
                    </div>
                    
                    <div class="metrics non-uniform">
                        <div class="metric">
                            <div class="metric-value" id="circular-time">0.00</div>
                            <div class="metric-label">Time (s)</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" id="circular-angle">0.00</div>
                            <div class="metric-label">Angle (rad)</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" id="circular-velocity-display">0.00</div>
                            <div class="metric-label">Velocity (m/s)</div>
                        </div>
                        <div class="metric">
                            <div class="metric-value" id="circular-acceleration-display">0.00</div>
                            <div class="metric-label">Acceleration (m/s²)</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="explanation">
                <h2>Physics of Motion: Uniform vs Non-Uniform</h2>
                <p>Motion can be classified based on whether the velocity remains constant (uniform) or changes (non-uniform).</p>
                
                <div class="concepts">
                    <div class="concept uniform">
                        <h3><span>↔</span> Uniform Motion</h3>
                        <p>Motion where the velocity remains constant over time.</p>
                        <div class="formula">
                            For linear motion: v = constant<br>
                            For circular motion: ω = constant
                        </div>
                        <p>In uniform motion, the object covers equal distances in equal intervals of time. There is no acceleration in the direction of motion (though circular motion has centripetal acceleration).</p>
                    </div>
                    
                    <div class="concept non-uniform">
                        <h3><span>↕️</span> Non-Uniform Motion</h3>
                        <p>Motion where the velocity changes with time.</p>
                        <div class="formula">
                            For linear motion: a = dv/dt ≠ 0<br>
                            For circular motion: α = dω/dt ≠ 0
                        </div>
                        <p>In non-uniform motion, the object covers unequal distances in equal intervals of time. Acceleration is present in the direction of motion.</p>
                        <p>Non-uniform motion can have <span style="color: var(--slow)">slow variation</span> (gradual acceleration) or <span style="color: var(--fast)">fast variation</span> (rapid acceleration).</p>
                    </div>
                </div>
                
                <div class="key-differences">
                    <h3>Key Differences</h3>
                    <table>
                        <tr>
                            <th>Characteristic</th>
                            <th>Uniform Motion</th>
                            <th>Non-Uniform Motion</th>
                        </tr>
                        <tr class="uniform-row">
                            <td>Velocity</td>
                            <td>Constant</td>
                            <td>Changes with time</td>
                        </tr>
                        <tr class="non-uniform-row">
                            <td>Acceleration</td>
                            <td>Zero (linear) or centripetal only (circular)</td>
                            <td>Present in direction of motion</td>
                        </tr>
                        <tr class="uniform-row">
                            <td>Distance covered</td>
                            <td>Equal in equal time intervals</td>
                            <td>Unequal in equal time intervals</td>
                        </tr>
                        <tr class="non-uniform-row">
                            <td>Graph of position vs time</td>
                            <td>Straight line</td>
                            <td>Curved line</td>
                        </tr>
                        <tr class="non-uniform-row">
                            <td>Speed variation</td>
                            <td>N/A</td>
                            <td>Slow or Fast acceleration</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Interactive Physics Simulation | Uniform vs Non-Uniform Motion</p>
        </footer>
    </div>

    <script>
        // Initialize Three.js scenes
        function initScene(containerId, isCircular = false) {
            const container = document.getElementById(containerId);
            const width = container.clientWidth;
            const height = container.clientHeight;
            
            // Create scene
            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0x0a192f);
            
            // Create camera
            const camera = isCircular 
                ? new THREE.PerspectiveCamera(60, width / height, 0.1, 1000)
                : new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);
            
            // Create renderer
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(width, height);
            container.appendChild(renderer.domElement);
            
            // Add lighting
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(10, 20, 15);
            scene.add(directionalLight);
            
            // Create objects based on motion type
            if (isCircular) {
                // Circular motion setup
                const radius = 10;
                
                // Create circular track
                const trackGeometry = new THREE.TorusGeometry(radius, 0.3, 16, 100);
                const trackMaterial = new THREE.MeshStandardMaterial({ color: 0x3498db });
                const track = new THREE.Mesh(trackGeometry, trackMaterial);
                track.rotation.x = Math.PI / 2;
                scene.add(track);
                
                // Create center point
                const centerGeometry = new THREE.SphereGeometry(0.5, 32, 32);
                const centerMaterial = new THREE.MeshStandardMaterial({ color: 0xe74c3c });
                const center = new THREE.Mesh(centerGeometry, centerMaterial);
                scene.add(center);
                
                // Create moving object
                const objectGeometry = new THREE.SphereGeometry(1, 32, 32);
                const objectMaterial = new THREE.MeshStandardMaterial({ color: 0xf1c40f });
                const object = new THREE.Mesh(objectGeometry, objectMaterial);
                object.position.set(radius, 0, 0);
                scene.add(object);
                
                // Create velocity vector
                const velocityVector = new THREE.ArrowHelper(
                    new THREE.Vector3(1, 0, 0),
                    new THREE.Vector3(0, 0, 0),
                    3,
                    0x00ff00
                );
                scene.add(velocityVector);
                
                // Create acceleration vector
                const accelerationVector = new THREE.ArrowHelper(
                    new THREE.Vector3(0, -1, 0),
                    new THREE.Vector3(0, 0, 0),
                    3,
                    0xff0000
                );
                scene.add(accelerationVector);
                
                // Position camera for circular motion
                camera.position.set(0, 20, 0);
                camera.lookAt(0, 0, 0);
                
                return { scene, camera, renderer, object, track, center, velocityVector, accelerationVector };
            } else {
                // Linear motion setup
                const trackLength = 25;
                
                // Create track
                const trackGeometry = new THREE.BoxGeometry(trackLength, 0.1, 2);
                const trackMaterial = new THREE.MeshStandardMaterial({ color: 0x3498db });
                const track = new THREE.Mesh(trackGeometry, trackMaterial);
                scene.add(track);
                
                // Create start and end markers
                const markerGeometry = new THREE.BoxGeometry(0.2, 0.5, 0.2);
                const startMaterial = new THREE.MeshStandardMaterial({ color: 0x2ecc71 });
                const endMaterial = new THREE.MeshStandardMaterial({ color: 0xe74c3c });
                
                const startMarker = new THREE.Mesh(markerGeometry, startMaterial);
                startMarker.position.set(-trackLength/2, 0.25, 0);
                scene.add(startMarker);
                
                const endMarker = new THREE.Mesh(markerGeometry, endMaterial);
                endMarker.position.set(trackLength/2, 0.25, 0);
                scene.add(endMarker);
                
                // Create moving object
                const objectGeometry = new THREE.BoxGeometry(1.5, 1, 1);
                const objectMaterial = new THREE.MeshStandardMaterial({ color: 0xf1c40f });
                const object = new THREE.Mesh(objectGeometry, objectMaterial);
                object.position.set(-trackLength/2, 0.5, 0);
                scene.add(object);
                
                // Create velocity vector
                const velocityVector = new THREE.ArrowHelper(
                    new THREE.Vector3(1, 0, 0),
                    new THREE.Vector3(0, 0, 0),
                    3,
                    0x00ff00
                );
                scene.add(velocityVector);
                
                // Create acceleration vector
                const accelerationVector = new THREE.ArrowHelper(
                    new THREE.Vector3(1, 0, 0),
                    new THREE.Vector3(0, 0, 0),
                    3,
                    0xff0000
                );
                scene.add(accelerationVector);
                
                // Add distance markers
                for (let i = -trackLength/2 + 5; i < trackLength/2; i += 5) {
                    const marker = new THREE.Mesh(
                        new THREE.BoxGeometry(0.1, 0.3, 0.1),
                        new THREE.MeshStandardMaterial({ color: 0xffffff })
                    );
                    marker.position.set(i, 0.15, 0);
                    scene.add(marker);
                }
                
                // Position camera for linear motion
                camera.position.set(0, 5, 10);
                camera.lookAt(0, 0, 0);
                
                return { scene, camera, renderer, object, track, startMarker, endMarker, trackLength, velocityVector, accelerationVector };
            }
        }
        
        // Initialize simulations
        const linearSim = initScene('linear-canvas', false);
        const circularSim = initScene('circular-canvas', true);
        
        // Animation states
        let linearAnimating = false;
        let circularAnimating = false;
        let linearTime = 0;
        let circularTime = 0;
        let linearMotionType = 'uniform'; // 'uniform' or 'non-uniform'
        let circularMotionType = 'uniform'; // 'uniform' or 'non-uniform'
        let linearSpeedType = 'slow'; // 'slow' or 'fast' for non-uniform motion
        let circularSpeedType = 'slow'; // 'slow' or 'fast' for non-uniform motion
        
        // Physics parameters
        let linearVelocity = 3;
        let linearAcceleration = 0.5;
        let circularRadius = 10;
        let angularVelocity = 1.5;
        let angularAcceleration = 0.2;
        
        // Update display values
        function updateDisplayValues() {
            // Linear motion values
            document.getElementById('linear-velocity-value').textContent = linearVelocity.toFixed(1);
            document.getElementById('linear-acceleration-value').textContent = linearAcceleration.toFixed(1);
            
            // Circular motion values
            document.getElementById('circular-radius-value').textContent = circularRadius;
            document.getElementById('circular-velocity-value').textContent = angularVelocity.toFixed(1);
            document.getElementById('circular-acceleration-value').textContent = angularAcceleration.toFixed(1);
        }
        
        // Update simulation parameters from UI
        function updateParameters() {
            linearVelocity = parseFloat(document.getElementById('linear-velocity').value);
            linearAcceleration = parseFloat(document.getElementById('linear-acceleration').value);
            circularRadius = parseFloat(document.getElementById('circular-radius').value);
            angularVelocity = parseFloat(document.getElementById('circular-velocity').value);
            angularAcceleration = parseFloat(document.getElementById('circular-acceleration').value);
            
            // Adjust acceleration based on speed type
            if (linearMotionType === 'non-uniform') {
                if (linearSpeedType === 'fast') {
                    linearAcceleration *= 2; // Double acceleration for fast variation
                }
            }
            
            if (circularMotionType === 'non-uniform') {
                if (circularSpeedType === 'fast') {
                    angularAcceleration *= 2; // Double acceleration for fast variation
                }
            }
            
            updateDisplayValues();
            
            // Update circular track radius
            circularSim.track.geometry.dispose();
            circularSim.track.geometry = new THREE.TorusGeometry(circularRadius, 0.3, 16, 100);
        }
        
        // Reset simulations
        function resetLinearSimulation() {
            linearTime = 0;
            linearSim.object.position.set(-linearSim.trackLength/2, 0.5, 0);
            updateLinearMetrics();
            linearAnimating = false;
            document.getElementById('linear-start').textContent = 'Start';
        }
        
        function resetCircularSimulation() {
            circularTime = 0;
            circularSim.object.position.set(circularRadius, 0, 0);
            updateCircularMetrics();
            circularAnimating = false;
            document.getElementById('circular-start').textContent = 'Start';
        }
        
        // Update metric displays
        function updateLinearMetrics() {
            const position = linearSim.object.position.x + linearSim.trackLength/2;
            let velocity, acceleration;
            
            if (linearMotionType === 'uniform') {
                velocity = linearVelocity;
                acceleration = 0;
            } else {
                // Apply speed variation factor
                let accelerationFactor = 1;
                if (linearSpeedType === 'fast') {
                    accelerationFactor = 2;
                }
                
                velocity = linearVelocity + (linearAcceleration * accelerationFactor) * linearTime;
                acceleration = linearAcceleration * accelerationFactor;
            }
            
            document.getElementById('linear-time').textContent = linearTime.toFixed(2);
            document.getElementById('linear-position').textContent = position.toFixed(2);
            document.getElementById('linear-velocity-display').textContent = velocity.toFixed(2);
            document.getElementById('linear-acceleration-display').textContent = acceleration.toFixed(2);
            
            // Update vectors
            const objectPos = linearSim.object.position.clone();
            linearSim.velocityVector.position.copy(objectPos);
            linearSim.accelerationVector.position.copy(objectPos);
            
            if (velocity !== 0) {
                linearSim.velocityVector.setDirection(new THREE.Vector3(
                    velocity > 0 ? 1 : -1, 0, 0
                ));
                linearSim.velocityVector.setLength(Math.abs(velocity) * 0.5);
            }
            
            if (acceleration !== 0) {
                linearSim.accelerationVector.setDirection(new THREE.Vector3(
                    acceleration > 0 ? 1 : -1, 0, 0
                ));
                linearSim.accelerationVector.setLength(Math.abs(acceleration) * 0.5);
            }
        }
        
        function updateCircularMetrics() {
            let angle, velocity, acceleration;
            
            if (circularMotionType === 'uniform') {
                angle = angularVelocity * circularTime;
                velocity = angularVelocity * circularRadius;
                acceleration = velocity * velocity / circularRadius; // Centripetal acceleration
            } else {
                // Apply speed variation factor
                let accelerationFactor = 1;
                if (circularSpeedType === 'fast') {
                    accelerationFactor = 2;
                }
                
                angle = angularVelocity * circularTime + 0.5 * (angularAcceleration * accelerationFactor) * circularTime * circularTime;
                velocity = (angularVelocity + (angularAcceleration * accelerationFactor) * circularTime) * circularRadius;
                acceleration = Math.sqrt(
                    Math.pow((angularAcceleration * accelerationFactor) * circularRadius, 2) + // Tangential acceleration
                    Math.pow(velocity * velocity / circularRadius, 2)    // Centripetal acceleration
                );
            }
            
            document.getElementById('circular-time').textContent = circularTime.toFixed(2);
            document.getElementById('circular-angle').textContent = angle.toFixed(2);
            document.getElementById('circular-velocity-display').textContent = velocity.toFixed(2);
            document.getElementById('circular-acceleration-display').textContent = acceleration.toFixed(2);
            
            // Update vectors
            const objectPos = circularSim.object.position.clone();
            circularSim.velocityVector.position.copy(objectPos);
            circularSim.accelerationVector.position.copy(objectPos);
            
            // Velocity vector is tangent to the circle
            const tangent = new THREE.Vector3(
                -Math.sin(angle),
                0,
                Math.cos(angle)
            ).normalize();
            
            circularSim.velocityVector.setDirection(tangent);
            circularSim.velocityVector.setLength(velocity * 0.2);
            
            // Acceleration vector for non-uniform circular motion
            if (circularMotionType === 'non-uniform' && angularAcceleration !== 0) {
                let accelerationFactor = 1;
                if (circularSpeedType === 'fast') {
                    accelerationFactor = 2;
                }
                
                const tangentialAccel = (angularAcceleration * accelerationFactor) * circularRadius;
                const centripetalAccel = velocity * velocity / circularRadius;
                
                // Tangential acceleration vector
                const tangentialAccelVec = tangent.clone().multiplyScalar(tangentialAccel);
                
                // Centripetal acceleration vector (towards center)
                const centripetalAccelVec = objectPos.clone().normalize().multiplyScalar(-centripetalAccel);
                
                // Total acceleration vector
                const totalAccelVec = tangentialAccelVec.add(centripetalAccelVec);
                
                circularSim.accelerationVector.setDirection(totalAccelVec.normalize());
                circularSim.accelerationVector.setLength(totalAccelVec.length() * 0.1);
            } else {
                // For uniform circular motion, only centripetal acceleration
                const centripetalAccelVec = objectPos.clone().normalize().multiplyScalar(-1);
                circularSim.accelerationVector.setDirection(centripetalAccelVec);
                circularSim.accelerationVector.setLength(acceleration * 0.1);
            }
        }
        
        // Animation functions
        function animateLinear() {
            if (!linearAnimating) return;
            
            linearTime += 0.05;
            
            // Calculate position based on motion type
            let displacement;
            if (linearMotionType === 'uniform') {
                displacement = linearVelocity * linearTime;
            } else {
                // Apply speed variation factor
                let accelerationFactor = 1;
                if (linearSpeedType === 'fast') {
                    accelerationFactor = 2;
                }
                
                displacement = linearVelocity * linearTime + 0.5 * (linearAcceleration * accelerationFactor) * linearTime * linearTime;
            }
            
            linearSim.object.position.x = -linearSim.trackLength/2 + displacement;
            
            // Check boundaries
            if (Math.abs(linearSim.object.position.x) > linearSim.trackLength/2) {
                linearAnimating = false;
                document.getElementById('linear-start').textContent = 'Start';
                linearSim.object.position.x = Math.sign(linearSim.object.position.x) * linearSim.trackLength/2;
            }
            
            updateLinearMetrics();
        }
        
        function animateCircular() {
            if (!circularAnimating) return;
            
            circularTime += 0.05;
            
            // Calculate position based on motion type
            let angle;
            if (circularMotionType === 'uniform') {
                angle = angularVelocity * circularTime;
            } else {
                // Apply speed variation factor
                let accelerationFactor = 1;
                if (circularSpeedType === 'fast') {
                    accelerationFactor = 2;
                }
                
                angle = angularVelocity * circularTime + 0.5 * (angularAcceleration * accelerationFactor) * circularTime * circularTime;
            }
            
            circularSim.object.position.x = circularRadius * Math.cos(angle);
            circularSim.object.position.z = circularRadius * Math.sin(angle);
            
            updateCircularMetrics();
        }
        
        // Render loops
        function renderLinear() {
            requestAnimationFrame(renderLinear);
            animateLinear();
            linearSim.renderer.render(linearSim.scene, linearSim.camera);
        }
        
        function renderCircular() {
            requestAnimationFrame(renderCircular);
            animateCircular();
            circularSim.renderer.render(circularSim.scene, circularSim.camera);
        }
        
        // Event listeners
        document.getElementById('linear-velocity').addEventListener('input', updateParameters);
        document.getElementById('linear-acceleration').addEventListener('input', updateParameters);
        document.getElementById('circular-radius').addEventListener('input', updateParameters);
        document.getElementById('circular-velocity').addEventListener('input', updateParameters);
        document.getElementById('circular-acceleration').addEventListener('input', updateParameters);
        
        document.getElementById('linear-start').addEventListener('click', function() {
            linearAnimating = !linearAnimating;
            this.textContent = linearAnimating ? 'Pause' : 'Start';
        });
        
        document.getElementById('circular-start').addEventListener('click', function() {
            circularAnimating = !circularAnimating;
            this.textContent = circularAnimating ? 'Pause' : 'Start';
        });
        
        document.getElementById('linear-reset').addEventListener('click', resetLinearSimulation);
        document.getElementById('circular-reset').addEventListener('click', resetCircularSimulation);
        
        // Motion type toggles
        document.getElementById('linear-uniform-btn').addEventListener('click', function() {
            linearMotionType = 'uniform';
            this.classList.add('active');
            document.getElementById('linear-non-uniform-btn').classList.remove('active');
            document.getElementById('linear-acceleration-control').style.opacity = '0.5';
            document.getElementById('linear-speed-controls').classList.remove('active');
            resetLinearSimulation();
        });
        
        document.getElementById('linear-non-uniform-btn').addEventListener('click', function() {
            linearMotionType = 'non-uniform';
            this.classList.add('active');
            document.getElementById('linear-uniform-btn').classList.remove('active');
            document.getElementById('linear-acceleration-control').style.opacity = '1';
            document.getElementById('linear-speed-controls').classList.add('active');
            resetLinearSimulation();
        });
        
        document.getElementById('circular-uniform-btn').addEventListener('click', function() {
            circularMotionType = 'uniform';
            this.classList.add('active');
            document.getElementById('circular-non-uniform-btn').classList.remove('active');
            document.getElementById('circular-acceleration-control').style.opacity = '0.5';
            document.getElementById('circular-speed-controls').classList.remove('active');
            resetCircularSimulation();
        });
        
        document.getElementById('circular-non-uniform-btn').addEventListener('click', function() {
            circularMotionType = 'non-uniform';
            this.classList.add('active');
            document.getElementById('circular-uniform-btn').classList.remove('active');
            document.getElementById('circular-acceleration-control').style.opacity = '1';
            document.getElementById('circular-speed-controls').classList.add('active');
            resetCircularSimulation();
        });
        
        // Speed variation toggles
        document.getElementById('linear-slow-btn').addEventListener('click', function() {
            linearSpeedType = 'slow';
            this.classList.add('active');
            document.getElementById('linear-fast-btn').classList.remove('active');
            resetLinearSimulation();
        });
        
        document.getElementById('linear-fast-btn').addEventListener('click', function() {
            linearSpeedType = 'fast';
            this.classList.add('active');
            document.getElementById('linear-slow-btn').classList.remove('active');
            resetLinearSimulation();
        });
        
        document.getElementById('circular-slow-btn').addEventListener('click', function() {
            circularSpeedType = 'slow';
            this.classList.add('active');
            document.getElementById('circular-fast-btn').classList.remove('active');
            resetCircularSimulation();
        });
        
        document.getElementById('circular-fast-btn').addEventListener('click', function() {
            circularSpeedType = 'fast';
            this.classList.add('active');
            document.getElementById('circular-slow-btn').classList.remove('active');
            resetCircularSimulation();
        });
        
        // Handle window resize
        window.addEventListener('resize', function() {
            // Linear simulation
            const linearContainer = document.getElementById('linear-canvas');
            const linearWidth = linearContainer.clientWidth;
            const linearHeight = linearContainer.clientHeight;
            
            linearSim.camera.aspect = linearWidth / linearHeight;
            linearSim.camera.updateProjectionMatrix();
            linearSim.renderer.setSize(linearWidth, linearHeight);
            
            // Circular simulation
            const circularContainer = document.getElementById('circular-canvas');
            const circularWidth = circularContainer.clientWidth;
            const circularHeight = circularContainer.clientHeight;
            
            circularSim.camera.aspect = circularWidth / circularHeight;
            circularSim.camera.updateProjectionMatrix();
            circularSim.renderer.setSize(circularWidth, circularHeight);
        });
        
        // Initialize
        updateParameters();
        updateDisplayValues();
        // Initially hide acceleration control for uniform motion
        document.getElementById('linear-acceleration-control').style.opacity = '0.5';
        document.getElementById('circular-acceleration-control').style.opacity = '0.5';
        renderLinear();
        renderCircular();
    </script>
</body>
</html>
